(this["webpackJsonpreact-spotify-stats"]=this["webpackJsonpreact-spotify-stats"]||[]).push([[0],{62:function(e,t,c){},88:function(e,t,c){},91:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c.n(a),n=c(22),r=c.n(n),i=(c(62),c(39)),j=c(7),o=c(40),l=c.n(o),d=c(55),b=c(14),h=c(93),u=c(94),O=c(95),x=c(96),m=c(97),p=c(103),f=c(98),g=c(25),v=c.n(g),y=c(2),k=Object(a.createContext)(),w=function(e){var t=Object(a.useState)({name:"",email:"",image:"",accessToken:"",isLoggedIn:!1}),c=Object(b.a)(t,2),s=c[0],n=c[1];return Object(y.jsx)(k.Provider,{value:[s,n],children:e.children})},S=c.p+"static/media/spotifyIcon.cd66b8f6.png",B=function(){var e=Object(a.useContext)(k),t=Object(b.a)(e,1)[0],c=Object(a.useState)([]),s=Object(b.a)(c,2),n=s[0],r=s[1],i=Object(a.useState)([]),j=Object(b.a)(i,2),o=j[0],g=j[1];Object(a.useEffect)((function(){t.isLoggedIn&&function(){var e=Object(d.a)(l.a.mark((function e(){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://api.spotify.com/v1/me/top/artists?limit=5",{headers:{Authorization:"Bearer ".concat(t.accessToken)}});case 2:return c=e.sent,e.next=5,v.a.get("https://api.spotify.com/v1/me/top/tracks?limit=5",{headers:{Authorization:"Bearer ".concat(t.accessToken)}});case 5:a=e.sent,r(c.data.items),g(a.data.items);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]);return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(f.a,{className:"mt-5",children:t.isLoggedIn?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(h.a,{fluid:!0,children:Object(y.jsxs)(u.a,{children:[Object(y.jsx)(O.a,{sm:6,className:"text-center",children:Object(y.jsx)(x.a,{src:t.image,fluid:!0})}),Object(y.jsxs)(O.a,{sm:6,className:"text-center",children:[Object(y.jsx)("h1",{children:"Welcome"}),Object(y.jsx)("h2",{children:t.name})]})]})}),Object(y.jsx)("h1",{children:"Favorite Artists"}),Object(y.jsx)(m.a,{children:n.map((function(e){return Object(y.jsxs)(p.a,{children:[Object(y.jsx)(p.a.Img,{src:e.images[0].url}),Object(y.jsxs)(p.a.Body,{children:[Object(y.jsx)(p.a.Title,{children:e.name}),Object(y.jsx)(p.a.Link,{target:"_blank",href:e.external_urls.spotify,children:"Open on Spotify"})]})]})}))}),Object(y.jsx)("h1",{className:"mt-5",children:"Favorite Tracks"}),Object(y.jsx)(m.a,{children:o.map((function(e){return Object(y.jsxs)(p.a,{children:[Object(y.jsx)(p.a.Img,{src:e.album.images[0].url}),Object(y.jsx)(p.a.Body,{children:Object(y.jsxs)(p.a.Title,{children:["Artist: ",e.artists[0].name]})}),Object(y.jsx)(p.a.Body,{children:Object(y.jsxs)(p.a.Title,{children:["Album: ",e.album.name]})}),Object(y.jsx)(p.a.Body,{children:Object(y.jsxs)(p.a.Title,{children:["Track: ",e.name]})}),Object(y.jsx)(p.a.Body,{children:Object(y.jsx)(u.a,{children:Object(y.jsx)("audio",{src:e.preview_url,controls:!0,preload:"auto"})})}),Object(y.jsx)(p.a.Body,{children:Object(y.jsx)(p.a.Link,{target:"_blank",href:e.external_urls.spotify,children:"Open on Spotify"})})]})}))}),Object(y.jsx)("br",{className:"mt-5"})]}):Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(h.a,{children:Object(y.jsxs)(u.a,{className:"text-center align-items-center",children:[Object(y.jsx)(O.a,{children:Object(y.jsx)("h1",{children:"Please Login to Spotify"})}),Object(y.jsx)(O.a,{children:Object(y.jsx)(x.a,{width:"50%",height:"50%",fluid:!0,src:S})})]})})})})})},C=c(43),T=function(){var e=Object(a.useContext)(k),t=Object(b.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(!1),r=Object(b.a)(n,2),i=r[0],o=r[1];return Object(a.useEffect)((function(){var e=new URLSearchParams(window.location.hash.replace("#","?")).get("access_token");null!==e?v.a.get("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer ".concat(e)}}).then((function(t){s(Object(C.a)(Object(C.a)({},c),{},{name:t.data.display_name,email:t.data.email,image:t.data.images[0].url,accessToken:e,isLoggedIn:!0})),o(!0)})).catch((function(e){console.log(e)})):alert("User denied login")}),[c,s]),i?Object(y.jsx)(j.a,{to:"/"}):Object(y.jsx)("div",{})},L=c(102),I=c(101),_=c(99),F=(c(88),c(100)),N=function(e){return Object(y.jsxs)(F.a,{show:e.show,onHide:e.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(y.jsx)(F.a.Header,{closeButton:!0,children:Object(y.jsx)(F.a.Title,{id:"contained-modal-title-vcenter",children:"Modal heading"})}),Object(y.jsxs)(F.a.Body,{children:[Object(y.jsx)("h4",{children:"Centered Modal"}),Object(y.jsx)("p",{children:"Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros."})]}),Object(y.jsx)(F.a.Footer,{children:Object(y.jsx)(_.a,{onClick:e.onHide,children:"Close"})})]})},A=function(){var e=Object(a.useState)(!1),t=Object(b.a)(e,2),c=t[0],s=t[1],n=Object(a.useContext)(k),r=Object(b.a)(n,1)[0];return Object(y.jsxs)("div",{children:[Object(y.jsx)(N,{show:c,onHide:function(){return s(!1)}}),Object(y.jsxs)(L.a,{className:"navbar-dark",bg:"dark",expand:"lg",children:[Object(y.jsxs)(L.a.Brand,{href:"#home",children:[Object(y.jsx)("img",{alt:"",src:S,width:"30",height:"30",className:"d-inline-block align-top"})," ","Spotify Stats"]}),Object(y.jsx)(L.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(y.jsxs)(L.a.Collapse,{id:"basic-navbar-nav",children:[Object(y.jsx)(I.a,{className:"mr-auto",children:Object(y.jsx)(I.a.Link,{target:"_blank",href:"https://github.com/RorroRojas3/React-Spotify-Status",children:"Github"})}),!r.isLoggedIn&&Object(y.jsx)(_.a,{variant:"dark",onClick:function(){return function(){var e="https://accounts.spotify.com/authorize?client_id=".concat("dcd665bd6a2f4855a2b69d35b4be45d4","&redirect_uri=").concat("https://rorrorojas3.github.io/react-spotify-stats/callback","&scope=user-read-private%20user-read-email%20playlist-read-collaborative%20user-follow-read%20user-top-read&response_type=token&state=123");window.location.replace(e)}()},children:"Sign In"})]})]})]})},z=function(){return Object(y.jsx)("div",{children:Object(y.jsxs)(w,{children:[Object(y.jsx)(A,{}),Object(y.jsx)(i.a,{basename:"/rorrorojas3.github.io/react-spotify-stats",children:Object(y.jsxs)(j.d,{children:[Object(y.jsx)(j.b,{exact:!0,path:"/",children:Object(y.jsx)(B,{})}),Object(y.jsx)(j.b,{path:"/callback",children:Object(y.jsx)(T,{})})]})})]})})};var H=function(){return Object(y.jsx)("div",{children:Object(y.jsx)(z,{})})},P=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,104)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};r.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(H,{})}),document.getElementById("root")),P()}},[[91,1,2]]]);
//# sourceMappingURL=main.4f024cbf.chunk.js.map